<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>经纬度间距计算</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- 标准mui.css -->
    <link rel="stylesheet" href="../css/mui.min.css">
</head>

<body>
    <header class="mui-bar mui-bar-nav">
        <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
        <h1 class="mui-title">经纬度间距计算</h1>
    </header>
    <div class="mui-content">
        <div class="mui-content-padded">
            <div class="mui-textfield">
                <input type="text" id="lat1" placeholder="输入第一个点的纬度" value="31.2304">
            </div>
            <div class="mui-textfield">
                <input type="text" id="lon1" placeholder="输入第一个点的经度" value="121.4737">
            </div>
            <div class="mui-textfield">
                <input type="text" id="lat2" placeholder="输入第二个点的纬度" value="31.2304">
            </div>
            <div class="mui-textfield">
                <input type="text" id="lon2" placeholder="输入第二个点的经度" value="121.4739">
            </div>
            <button type="button" class="mui-btn mui-btn-primary mui-btn-block"
                onclick="calculateDistance()">计算间距</button>
            <button type="button" class="mui-btn mui-btn-danger mui-btn-block" onclick="clearFields()">清空</button>
            <div id="result" class="mui-text-center" style="margin-top: 20px;"></div>
        </div>
    </div>
    <footer class="mui-bar mui-bar-footer">
        <span class="mui-tab-item">Copyright &copy; 2024 V2XBox</span>
        <span class="mui-tab-item">Designed by zolty.com</span>
        <span class="mui-tab-item" onclick="sendEmail()">Email: <a
                href="mailto:contact@zolty.com">contact@zolty.com</a></span>
    </footer>

    <script>
        function sendEmail() {
            window.location.href = "mailto:contact@zolty.com";
        }
    </script>
    <script src="../js/mui.min.js"></script>
    <script>
        function calculateDistance() {
            const lat1 = parseFloat(document.getElementById('lat1').value);
            const lon1 = parseFloat(document.getElementById('lon1').value);
            const lat2 = parseFloat(document.getElementById('lat2').value);
            const lon2 = parseFloat(document.getElementById('lon2').value);

            if (isNaN(lat1) || isNaN(lon1) || isNaN(lat2) || isNaN(lon2)) {
                document.getElementById('result').textContent = '请输入有效的经纬度。';
                return;
            }

            const R = 6371; // 地球半径（千米）
            const dLat = degreesToRadians(lat2 - lat1);
            const dLon = degreesToRadians(lon2 - lon1);
            const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                Math.cos(degreesToRadians(lat1)) * Math.cos(degreesToRadians(lat2)) *
                Math.sin(dLon / 2) * Math.sin(dLon / 2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            const distance = R * c * 1000; // 计算距离并转换为米

            document.getElementById('result').textContent = `两个点之间的距离是 ${distance.toFixed(2)} 米。`;
        }

        function degreesToRadians(degrees) {
            return degrees * Math.PI / 180;
        }

        function clearFields() {
            document.getElementById('lat1').value = '';
            document.getElementById('lon1').value = '';
            document.getElementById('lat2').value = '';
            document.getElementById('lon2').value = '';
            document.getElementById('result').textContent = '';
        }
    </script>
</body>

</html>